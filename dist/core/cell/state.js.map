{"version":3,"file":"state.js","sourceRoot":"","sources":["../../../src/core/cell/state.ts"],"names":[],"mappings":"AA6BA,MAAM,CAAN,IAAY,gBAIX;AAJD,WAAY,gBAAgB;IAC1B,yDAAK,CAAA;IACL,+DAAQ,CAAA;IACR,iEAAS,CAAA;AACX,CAAC,EAJW,gBAAgB,KAAhB,gBAAgB,QAI3B;AASD,MAAM,CAAN,IAAY,qBAKX;AALD,WAAY,qBAAqB;IAC/B,uEAAO,CAAA;IACP,uFAAe,CAAA;IACf,iFAAY,CAAA;IACZ,uFAAe,CAAA;AACjB,CAAC,EALW,qBAAqB,KAArB,qBAAqB,QAKhC","sourcesContent":["import {\n  AgentPubKey,\n  DHTOp,\n  Dictionary,\n  Hash,\n  Metadata,\n} from '@holochain-open-dev/core-types';\n\nexport interface CellState {\n  sourceChain: Array<Hash>;\n  CAS: Dictionary<any>;\n  metadata: Metadata; // For the moment only DHT shard\n  integratedDHTOps: Dictionary<IntegratedDhtOpsValue>; // Key is the hash of the DHT op\n  authoredDHTOps: Dictionary<AuthoredDhtOpsValue>; // Key is the hash of the DHT op\n  integrationLimbo: Dictionary<IntegrationLimboValue>; // Key is the hash of the DHT op\n  validationLimbo: Dictionary<ValidationLimboValue>; // Key is the hash of the DHT op\n}\n\nexport interface IntegratedDhtOpsValue {\n  op: DHTOp;\n  validation_status: ValidationStatus;\n  when_integrated: number;\n}\n\nexport interface IntegrationLimboValue {\n  op: DHTOp;\n  validation_status: ValidationStatus;\n}\n\nexport enum ValidationStatus {\n  Valid,\n  Rejected,\n  Abandoned,\n}\n\n// From https://github.com/holochain/holochain/blob/develop/crates/holochain/src/core/state/dht_op_integration.rs\nexport interface AuthoredDhtOpsValue {\n  op: DHTOp;\n  receipt_count: number;\n  last_publish_time: number | undefined;\n}\n\nexport enum ValidationLimboStatus {\n  Pending,\n  AwaitingSysDeps,\n  SysValidated,\n  AwaitingAppDeps,\n}\n\n// From https://github.com/holochain/holochain/blob/develop/crates/holochain/src/core/state/validation_db.rs#L24\nexport interface ValidationLimboValue {\n  status: ValidationLimboStatus;\n  op: DHTOp;\n  basis: Hash;\n  time_added: number;\n  last_try: number | undefined;\n  num_tries: number;\n  from_agent: AgentPubKey | undefined;\n}\n"]}